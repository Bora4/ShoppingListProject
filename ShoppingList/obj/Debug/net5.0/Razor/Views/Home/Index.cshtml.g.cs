#pragma checksum "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "b1cdb786dd83e41e1da87bde9ec0006480447b41"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_Index), @"mvc.1.0.view", @"/Views/Home/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\borat\source\repos\ShoppingList\Views\_ViewImports.cshtml"
using ShoppingList;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\borat\source\repos\ShoppingList\Views\_ViewImports.cshtml"
using ShoppingList.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
using ShoppingList.Models.ViewModels;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
using ShoppingListAPI.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"b1cdb786dd83e41e1da87bde9ec0006480447b41", @"/Views/Home/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"b59c396acab2a2de2cff75dab5f08dfd6ef368f3", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Home_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<IndexViewModel>
    #nullable disable
    {
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n    <html>\r\n        ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("head", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "b1cdb786dd83e41e1da87bde9ec0006480447b413609", async() => {
                WriteLiteral("\r\n\r\n        ");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n        ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("body", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "b1cdb786dd83e41e1da87bde9ec0006480447b414595", async() => {
                WriteLiteral("\r\n\r\n            <div class=\"mydiv\">\r\n            <div class=\"leftpanel\">\r\n");
#nullable restore
#line 13 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
             using (Html.BeginForm())
            {
                

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
           Write(Html.TextBox("ShoppingListName", Model.Cart.Title, htmlAttributes: new {placeholder= "List name....", id = "cartname"}));

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
             if (Model.Cart.Items.Any() == true)
            {
               

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
                foreach (ViewItem shoppinglistitem in Model.Cart.Items)
                {   
                    string idstring = "category" + @shoppinglistitem.Id;
                    string quantityidstring = "cartitemquantity" + @shoppinglistitem.Id; 
                    

#line default
#line hidden
#nullable disable
                WriteLiteral("<ul id = \"shopping-cart\">\r\n                        <li class= \"cartitem\"");
                BeginWriteAttribute("id", " id=", 841, "", 845, 0);
                EndWriteAttribute();
                WriteLiteral(" ");
#nullable restore
#line 24 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
                                             Write(idstring);

#line default
#line hidden
#nullable disable
                WriteLiteral("><p class= \"itemname\"> ");
#nullable restore
#line 24 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
                                                                             Write(shoppinglistitem.Name);

#line default
#line hidden
#nullable disable
                WriteLiteral(" </p> x <p class = \"itemname\"");
                BeginWriteAttribute("id", " id =", 929, "", 934, 0);
                EndWriteAttribute();
                WriteLiteral(" ");
#nullable restore
#line 24 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
                                                                                                                                      Write(quantityidstring);

#line default
#line hidden
#nullable disable
                WriteLiteral("> ");
#nullable restore
#line 24 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
                                                                                                                                                         Write(shoppinglistitem.Quantity);

#line default
#line hidden
#nullable disable
                WriteLiteral(" </p><input type = \"button\" class = \"removeButton\" value = \"Remove\"");
                BeginWriteAttribute("onclick", " onclick = \"", 1047, "\"", 1095, 3);
                WriteAttributeValue("", 1059, "removeFromCart(", 1059, 15, true);
#nullable restore
#line 24 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
WriteAttributeValue("", 1074, shoppinglistitem.Id, 1074, 20, false);

#line default
#line hidden
#nullable disable
                WriteAttributeValue("", 1094, ")", 1094, 1, true);
                EndWriteAttribute();
                WriteLiteral(" /></li>\r\n                    </ul>\r\n");
#nullable restore
#line 26 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"

                
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 28 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
                 
            } else
            {

#line default
#line hidden
#nullable disable
                WriteLiteral("                    <ul id = \"shopping-cart\"></ul>\r\n");
#nullable restore
#line 32 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
            }

#line default
#line hidden
#nullable disable
                WriteLiteral("            <input type = \"submit\" value = \"Save\" formaction = \"SaveList\" onclick= \"setTitle()\" />\r\n            <input type = \"submit\" value = \"To the market\" formaction = \"Market\" />\r\n");
#nullable restore
#line 38 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
            }

#line default
#line hidden
#nullable disable
                WriteLiteral("            \r\n            </div>\r\n\r\n            <div class=\"middlepanel\">        \r\n                <h4 style=\"text-align: center; margin-bottom: 25px\">Categories</h4>\r\n");
#nullable restore
#line 44 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
             foreach (Category category in Model.Categories)
           {

#line default
#line hidden
#nullable disable
                WriteLiteral("                <div style=\"float: left; padding-right: 20px; padding-bottom: 10px\"> \r\n                    <input type=\"button\" class=\"categoryname\" id= \"categorybutton\"");
                BeginWriteAttribute("value", " value=\"", 1921, "\"", 1943, 1);
#nullable restore
#line 47 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
WriteAttributeValue("", 1929, category.Name, 1929, 14, false);

#line default
#line hidden
#nullable disable
                EndWriteAttribute();
                BeginWriteAttribute("onclick", " onclick= \"", 1944, "\"", 1980, 3);
                WriteAttributeValue("", 1955, "getCategory(", 1955, 12, true);
#nullable restore
#line 47 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
WriteAttributeValue("", 1967, category.Id, 1967, 12, false);

#line default
#line hidden
#nullable disable
                WriteAttributeValue("", 1979, ")", 1979, 1, true);
                EndWriteAttribute();
                WriteLiteral(" data-toggle=\"modal\" data-target=\"#myModal\" /> \r\n                     \r\n                </div>\r\n");
#nullable restore
#line 50 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
                
           }

#line default
#line hidden
#nullable disable
                WriteLiteral(@"
            <!-- Modal -->
            <div id=""myModal"" class=""modal fade"" role=""dialog"">
                <div class=""modal-dialog"">

            <!-- Modal content-->
            <div class=""modal-content"">
                <div class=""modal-header"">
                    <h4 class=""modal-title"" style = ""text-align:center""></h4>
                    <button type=""button"" class=""close"" data-dismiss=""modal"">&times;</button>
                    
                </div>
                <div class=""modal-body"">
                    <div>
                        <ul id = ""itemList""></ul> 
                    </div>  
                </div>
                <div class=""modal-footer"">
                    <button type=""button"" class=""removeButton"" data-dismiss=""modal"">Close</button>
                </div>
            </div>

            </div>
        </div>

    </div>
");
#nullable restore
#line 78 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
              
            string display = "none";

            if (CurrentUser.Id == 1)
            {
                display = "block";
            } 

            

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n            <div class=\"rightpanel\">\r\n                <h2>");
#nullable restore
#line 89 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
               Write(CurrentUser.FirstName);

#line default
#line hidden
#nullable disable
                WriteLiteral("</h2>\r\n                <h3>");
#nullable restore
#line 90 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
               Write(CurrentUser.LastName);

#line default
#line hidden
#nullable disable
                WriteLiteral("</h3>\r\n                <h4>");
#nullable restore
#line 91 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
               Write(CurrentUser.Email);

#line default
#line hidden
#nullable disable
                WriteLiteral("</h4>\r\n                ");
#nullable restore
#line 92 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
           Write(Html.ActionLink("My Shopping Lists", "MyShoppingLists"));

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n                <br />\r\n                <div");
                BeginWriteAttribute("style", " style = \"", 3483, "\"", 3512, 3);
                WriteAttributeValue(" ", 3493, "display:", 3494, 9, true);
#nullable restore
#line 94 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
WriteAttributeValue(" ", 3502, display, 3503, 8, false);

#line default
#line hidden
#nullable disable
                WriteAttributeValue(" ", 3511, "", 3512, 1, true);
                EndWriteAttribute();
                WriteLiteral(" > ");
#nullable restore
#line 94 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
                                                Write(Html.ActionLink("Add Item", "AddItemMenu"));

#line default
#line hidden
#nullable disable
                WriteLiteral(" </div>\r\n                <br />\r\n                ");
#nullable restore
#line 96 "C:\Users\borat\source\repos\ShoppingList\Views\Home\Index.cshtml"
           Write(Html.ActionLink("Logout", "Logout"));

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n                \r\n            </div>      \r\n            </div>\r\n\r\n            \r\n\r\n        ");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
    </html>

    <style>

        body {
            margin:0;
            height: 100%;
        }

        ul{
            list-style: none;
            padding-left: 0;
        }

        input[type=submit] {
            border: none;
            border-radius: 8px;
            color: white;
            background-color: #007bff;
        }

        .removeButton{
            border: none;
            border-radius: 8px;
            color: white;
            background-color: red;
            margin-left: 5px
        }

        .searchButton{
            border: none;
            border-radius: 8px;
            color: white;
            background-color: #05e31e;
        }

        .addButton {
            margin-top: 5px;
            border: none;
            border-radius: 8px;
            color: white;
            background-color: #16a3f5;
        }        

        input[type=text]{
            border: none;
            border-bottom: 1px solid black;
   ");
            WriteLiteral(@"     }

        input[type=text]:focus{
            outline:none;
            border-bottom: 1px solid black
        }

        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { 
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            margin: 0; 
        }

        .mydiv {

            position: absolute;
            top: 56px;
            left: 0;
            right: 0;
            bottom: 0;
            height: 100%;
            
        }

        .leftpanel{
            border-right: 1px solid black;
            float: left;
            width: 20%;
            height: 100%;
            box-shadow: 1px 10px 15px black;
            text-align: center;
        }

        #cartname {
            display: block;
            margin: 0 auto;
            margin-top: 30px;
            text-align: center;
        }

        .cartitem {
            margin-top: 5p");
            WriteLiteral(@"x;
        }

        .leftpanel input[type=submit]{
            display: block;
            margin: 0 auto;
            margin-top: 10px;
        }

        .middlepanel{
            
            float:left;
            width: 60%;
            height: 100%;
            padding: 25px;
        }


        .categoryname{
            color: #dbbd6b;
            font-size: 30px;
            font-weight: bold;
            background: none;
            background-color: #ffffeb;
            border: none;
            padding: 0;
        }

        .itemname{
            background: none;
            border: none;
            padding: 0;
            margin-top: 10px;
            display: inline
        }

        .quantity{
            -moz-appearance: textfield;
            display: inline;
            width: 20px;
            margin-right: 5px;
            margin-left: 5px;
            outline:none;
            border: none;
        }

        .quantity:focus{
        ");
            WriteLiteral(@"    border: none;
        }

        

        .rightpanel{
            border-left: 1px solid black;
            float: right;
            width: 20%;
            text-align: center;
            height: 100%;
            box-shadow: 1px 10px 15px black;
        }


    </style>

    <script>

    function setCart(id, quantity){
        var cartname = document.getElementById(""cartname"").value;
       $.ajax(
           {
           url: ""http://localhost:5997/Home/SetCart?id="" + id + ""&quantity="" + quantity + ""&cartname="" + cartname, 
           type: ""POST""
       }
       )

    }
    
    function setTitle(){
        var cartname = document.getElementById(""cartname"").value;
        $.ajax(
           {
           url: ""http://localhost:5997/Home/SetTitle?cartname="" + cartname, 
           type: ""POST""
       })
    }

    function getCategory(id)
    {
            $.ajax(
            {
            url:""http://localhost:5997/api/Categories/"" + id,
            type");
            WriteLiteral(@": ""GET"",
            success: function(data)
            {
                    var html = """";
                    $.each(data.items, function(key,value)
                    {
                        html += ""<li class= 'cartitem'><p class='itemname'>"" + value.name + "" x <input class= 'quantity' type='number' name=item"" + value.id + "" id=item"" + value.id + "" value= 1 /><input class = 'addButton' type = 'button' value = 'Add' onClick = 'addToCart("" + value.id + "")' /></p></li>"";
                    });
                    $(""#itemList"").html(html);
                    $("".modal-title"").html(data.name)
            }
            }
            );
        
     }


    function addToCart(id)
    {
        var shoppingCart = document.getElementById(""shopping-cart"");
        if(shoppingCart == null)
        {
            var shoppinginnerHTML = """";
        } else 
        {
            var shoppinginnerHTML = shoppingCart.innerHTML;
            var quantity = document.getElementById(""item""+i");
            WriteLiteral(@"d);
            var cartitem = document.getElementById(""cartitem""+ id)
            if(cartitem != null)
            {
                $.ajax(
                {
                    url:""http://localhost:5997/api/Items/"" +id,
                    type: ""GET"",
                    success: function(data)
                    {
                        var oldquantity = document.getElementById(""cartitemquantity"" + id)

                        var oldint = parseInt(oldquantity.innerHTML)

                        var quantityint = parseInt(quantity.value)

                        var myint = quantityint + oldint

                        var html =""<p class='itemname'>"" + data.name + ""</p> x <p class = 'itemname' id = 'cartitemquantity"" + id +""'>"" + myint + ""</p><input type = 'button' class = 'removeButton' value = 'Remove' onclick = 'removeFromCart(""+ id + "")' />""
                        cartitem.innerHTML = html
                        setCart(id, myint)
                
                    }
  ");
            WriteLiteral(@"              });
                
            }
            else 
            {
                
                $.ajax(
                {
                    url:""http://localhost:5997/api/Items/"" +id,
                    type: ""GET"",
                    success: function(data)
                    {
                        shoppinginnerHTML +=""<li class= 'cartitem' id='cartitem""+ id +""'><p class='itemname'>"" + data.name + ""</p> x <p class = 'itemname' id = 'cartitemquantity"" + id +""'>"" + quantity.value + ""</p><input type = 'button' class = 'removeButton' value = 'Remove' onclick = 'removeFromCart(""+ id + "")' /></li>""
                        $(""#shopping-cart"").html(shoppinginnerHTML);
                        setCart(id, quantity.value)
                    }
                });
                
            }
            
        }
        
        
    }

    function removeFromCart(id){
        var shoppingCart = document.getElementById(""shopping-cart"");
        let cartitem = doc");
            WriteLiteral(@"ument.getElementById(""cartitem"" + id);
        shoppingCart.removeChild(cartitem)
        dontSetCart(id)

    }

    function dontSetCart(id){
        var cartname = document.getElementById(""cartname"").value;

        $.ajax(
           {
           url: ""http://localhost:5997/Home/DontSetCart?id="" + id + ""&cartname="" + cartname, 
           type: ""DELETE""
       }
       )

    }

    function search(){
        var name = document.getElementById(""searchbar"").value;
        $.ajax(
            {
                url: ""http://localhost:5997/api/Items/Names/"" +name,
                type: ""GET"",
                success: function(data){
                    var html = ""<li><p class='itemname'>"" + data.name + "" x <input class= 'quantity' type='number' name=item"" + data.id + "" id=item"" + data.id + "" value= 1 /><input class='addButton' type = 'button' value = 'Add' onClick = 'addToCart("" + data.id + "")' /></p></li>""
                    $(""#itemList"").html(html);
                    $("".moda");
            WriteLiteral("l-title\").html(data.name);\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n\r\n    </script>");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<IndexViewModel> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
